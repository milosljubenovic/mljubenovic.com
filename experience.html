---
layout: page
title: Experience
permalink: /experience/
---

<div class="mb-12">
  <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Experience</h1>
  <p class="text-xl text-gray-600 dark:text-gray-400">
    My professional journey and career milestones
  </p>
</div>

<!-- Year Navigation Slider -->
<div class="fixed left-4 top-1/2 transform -translate-y-1/2 z-50">
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-3 border-2 border-primary-300 dark:border-primary-700">
    <div class="flex flex-col gap-2" id="year-nav">
      <!-- Years will be populated by JavaScript -->
    </div>
  </div>
</div>

<div class="relative">
  <!-- Timeline line -->
  <div class="absolute left-8 top-0 bottom-0 w-0.5 bg-primary-200 dark:bg-primary-800"></div>
  
  <div class="space-y-12">
    {% assign sorted_experience = site.experience | sort: 'date_start' | reverse %}
    {% for job in sorted_experience %}
    <div class="relative pl-20 experience-item" 
         data-year="{{ job.date_start | date: '%Y' }}"
         id="year-{{ job.date_start | date: '%Y' }}">
      <!-- Timeline dot -->
      <div class="absolute left-6 top-6 w-4 h-4 bg-primary-600 dark:bg-primary-400 rounded-full border-4 border-white dark:border-gray-900"></div>
      
      <div class="card p-6">
        {% if job.logo %}
        <div class="mb-4">
          <img src="{{ job.logo | relative_url }}" 
               alt="{{ job.company }}" 
               class="h-12 w-auto">
        </div>
        {% endif %}
        
        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">
          <a href="{{ job.url | relative_url }}" class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            {{ job.role }}
          </a>
        </h3>
        
        <div class="text-lg text-primary-600 dark:text-primary-400 mb-2">
          {{ job.company }}
        </div>
        
        <div class="text-sm text-gray-600 dark:text-gray-400 mb-4">
          {{ job.date_start | date: "%B %Y" }} - 
          {% if job.date_end %}
            {{ job.date_end | date: "%B %Y" }}
          {% else %}
            Present
          {% endif %}
        </div>
        
        {% if job.description %}
        <p class="text-gray-700 dark:text-gray-300 mb-4">
          {{ job.description }}
        </p>
        {% endif %}
        
        {% if job.technologies %}
        <div class="flex flex-wrap gap-2">
          {% for tech in job.technologies %}
          <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded">
            {{ tech }}
          </span>
          {% endfor %}
        </div>
        {% endif %}
        
        <a href="{{ job.url | relative_url }}" class="inline-block mt-4 text-primary-600 dark:text-primary-400 hover:underline font-medium">
          Read More â†’
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<style>
  .year-nav-btn {
    transition: all 0.2s ease;
    min-width: 60px;
  }
  
  .year-nav-btn.active {
    background-color: #2563eb;
    color: white;
    transform: scale(1.1);
    font-weight: bold;
  }
  
  .year-nav-btn:hover {
    background-color: #dbeafe;
  }
  
  .dark .year-nav-btn:hover {
    background-color: #1e3a8a;
  }
  
  .year-nav-btn.active:hover {
    background-color: #1d4ed8;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const experienceItems = document.querySelectorAll('.experience-item');
    const yearNav = document.getElementById('year-nav');
    const years = new Map();
    
    // Collect years and first element for each year
    experienceItems.forEach(item => {
      const year = item.dataset.year;
      if (!years.has(year)) {
        years.set(year, item);
      }
    });
    
    // Sort years in descending order
    const sortedYears = Array.from(years.keys()).sort((a, b) => b - a);
    
    // Create "NOW" button first
    const nowBtn = document.createElement('button');
    nowBtn.className = 'year-nav-btn px-3 py-2 rounded-lg font-semibold text-sm text-gray-700 dark:text-gray-300 hover:bg-primary-100 dark:hover:bg-primary-900 transition-all';
    nowBtn.textContent = 'Now'
    nowBtn.dataset.year = 'now';
    
    nowBtn.addEventListener('click', function() {
      window.scrollTo({ 
        top: 0, 
        behavior: 'smooth' 
      });
      
      // Update active state
      document.querySelectorAll('.year-nav-btn').forEach(b => b.classList.remove('active'));
      nowBtn.classList.add('active');
    });
    
    yearNav.appendChild(nowBtn);
    
    // Create year navigation buttons
    sortedYears.forEach(year => {
      const btn = document.createElement('button');
      btn.className = 'year-nav-btn px-3 py-2 rounded-lg font-semibold text-sm text-gray-700 dark:text-gray-300 hover:bg-primary-100 dark:hover:bg-primary-900 transition-all';
      btn.textContent = year;
      btn.dataset.year = year;
      
      btn.addEventListener('click', function() {
        const targetElement = years.get(year);
        if (targetElement) {
          // Smooth scroll to the year
          targetElement.scrollIntoView({ 
            behavior: 'smooth', 
            block: 'start',
            inline: 'nearest'
          });
          
          // Update active state
          document.querySelectorAll('.year-nav-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        }
      });
      
      yearNav.appendChild(btn);
    });
    
    // Highlight active year based on scroll position
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        // Check if at top of page
        if (window.scrollY < 200) {
          document.querySelectorAll('.year-nav-btn').forEach(btn => {
            if (btn.dataset.year === 'now') {
              btn.classList.add('active');
            } else {
              btn.classList.remove('active');
            }
          });
          return;
        }
        
        let activeYear = null;
        
        experienceItems.forEach(item => {
          const rect = item.getBoundingClientRect();
          if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
            activeYear = item.dataset.year;
          }
        });
        
        if (activeYear) {
          document.querySelectorAll('.year-nav-btn').forEach(btn => {
            if (btn.dataset.year === activeYear) {
              btn.classList.add('active');
            } else {
              btn.classList.remove('active');
            }
          });
        }
      }, 100);
    });
    
    // Set initial active to NOW
    nowBtn.classList.add('active');
  });
</script>
